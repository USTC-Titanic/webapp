<!DOCTYPE html>
<html>
<head>
	<title>用户管理</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.bootcss.com/twitter-bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="/static/mynavbar.css">
	<link rel="stylesheet" href="/static/user/admin.css">
</head>
<body>
	<main class="container" id="adminpanel">
		<section class="row mypadding-64">
			<div class="col text-center">
				<h2>用户管理</h2>
				<!-- <button class="btn btn-primary" v-on:click="doCreate()">新增</button> -->
				<!-- <button class="btn btn-danger">删除</button> -->
			</div>
		</section>

		<table class="table table-striped table-hover" style="margin-top: 16px;">
			<thead>
				<tr>
					<!-- <th scope="col">#</th> -->
					<th scope="col">用户ID</th>
					<th scope="col">用户名</th>
					<th scope="col">昵称</th>
					<th scope="col">邮箱</th>
					<th scope="col">操作</th>
				</tr>
			</thead>
			<tbody>
				<tr v-for="(user, index) in userlist">
					<!-- <th scope="row">{{ index + 1 }}</td> -->
					<td>{{ user.uid }}</td>
					<td>{{ user.username }}</td>
					<td>{{ user.nickname }}</td>
					<td>{{ user.email }}</td>
					<td>
						<button class="btn btn-outline-info btn-sm" data-toggle="modal" data-target="#userModal" v-on:click="openModal(index, '修改')">修改</button>
						<button class="btn btn-outline-danger btn-sm" data-toggle="modal" data-target="#userModal" v-on:click="openModal(index, '删除')">删除</button>
					</td>
				</tr>
			</tbody>
		</table>

		<!-- Modal -->
		<section class="modal fade" id="userModal" tabindex="-1" role="dialog" aria-labelledby="userModalLabel" aria-hidden="true">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="userModalLabel">用户名：{{ user.username }}</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="form-row">
							<div class="col-2" style="padding: 6px 12px 6px 12px;">昵称</div>
							<div class="col-8">
								<input tpye="text" class="form-control" v-model="user.nickname" placeholder="昵称" required>
							</div>
						</div>

						<div class="form-row">
							<div class="col-2" style="padding: 6px 12px 6px 12px;">邮箱</div>
							<div class="col-8">
								<input tpye="text" class="form-control" v-model="user.email" placeholder="邮箱" required>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
						<button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="doRequest()">确认{{ operation }}</button>
					</div>
				</div>
			</div>
		</section>

		<section class="row" style="margin-top: 16px;">
			<div class="col">总记录数：{{ userlist.length }}</div>
		</section>

		<section style="margin-top: 16px;">
			<nav aria-label="Page navigation example">
				<ul class="pagination justify-content-end">
					<li class="page-item"><a class="page-link" href="#">首页</a></li>
					<li class="page-item">
						<a class="page-link" href="#" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
							<span class="sr-only">Previous</span>
						</a>
					</li>
					<li class="page-item"><a class="page-link" href="#">1</a></li>
					<li class="page-item"><a class="page-link" href="#">2</a></li>
					<li class="page-item"><a class="page-link" href="#">3</a></li>
					<li class="page-item">
						<a class="page-link" href="#" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
							<span class="sr-only">Next</span>
						</a>
					</li>
					<li class="page-item"><a class="page-link" href="#">尾页</a></li>
				</ul>
			</nav>
		</section>
	</main>
</body>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js"></script>
<script src="https://cdn.bootcss.com/twitter-bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="https://cdn.bootcss.com/vue/2.5.13/vue.js"></script>
<script src="https://cdn.bootcss.com/axios/0.17.1/axios.js"></script>
<script src="/static/user/admin.js"></script>
</html>